"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[404],{81717:(e,n,i)=>{i.d(n,{S:()=>r});var t=i(58168),o=i(96540),a=i(86527),l=i(36557),r=function(e){return o.createElement(l.kZ,{scale:"M"},o.createElement(a.N,(0,t.A)({},e,{linkStyle:"OBVIOUS"})))}},98568:(e,n,i)=>{i.d(n,{M3:()=>d,YM:()=>c});var t=i(80296),o=i(96540),a=i(52290),l=function(){return null},r=(0,o.createContext)({increment:l,decrement:l,loading:!1}),c=function(e){var n=e.children,i=e.placeholder,l=e.loadingOverride,c=(0,o.useState)(0),d=(0,t.A)(c,2),u=d[0],s=d[1],m=l||u>0,f=(0,o.useMemo)((function(){return{increment:function(){return s((function(e){return e+1}))},decrement:function(){return s((function(e){return e-1}))},loading:m}}),[m]);return o.createElement(r.Provider,{value:f},m&&i,o.createElement(a.a,{display:m?"none":void 0},n))},d=function(e){var n=(0,o.useContext)(r),i=n.increment,t=n.decrement,a=n.loading,l=(0,o.useRef)(!0);return(0,o.useEffect)((function(){e?i():l.current||t(),l.current=!1}),[e]),a}},60213:(e,n,i)=>{i.d(n,{u:()=>l,z:()=>r});var t=i(96540),o=i(39160),a=i(79959),l=function(){var e=(0,o.d4)((function(e){return e.navigation.currentLocation})),n=(0,o.d4)((function(e){return e.config.authDomain})),i=(0,a.fo)();return(0,t.useCallback)((function(t){var o=t.id,a=t.domain,l=function(e){var n=e.id,i=e.slug;return i?"/".concat(i):"/c/".concat(n)}({id:o,domain:a,slug:t.slug});if(i)return"https://".concat(n).concat(l);try{var r=new URL(e).port;if(a)return"https://".concat(a).concat(r?":".concat(r):"")}catch(e){}return"https://".concat(n).concat(l)}),[i])},r=function(e){return l()(e)}},28899:(e,n,i)=>{i.d(n,{u:()=>k});var t=i(96540),o=i(60213),a=i(7580),l=i(90280),r=i(86975),c=i(12378),d=i(44402),u=i(18642),s=i(90383),m=function(e){return function(n){return{borderRadius:(0,c.c)(n.borderRadius.regular),width:(0,c.c)(e),height:(0,c.c)(e),backgroundColor:n.colorTokens.background.neutral.secondary.base}}},f=function(e,n){return function(i){return{borderRadius:(0,c.c)(i.borderRadius.regular),display:"block",height:"".concat(e,"px"),width:"".concat(e,"px"),position:"absolute",top:0,border:"1px solid rgba(0, 0, 0, 0.05)",":hover":{backgroundColor:n?(0,u.qy)(.1):"none"}}}},k=function(e){var n=e.circular,i=e.collection,c=e.size,u=void 0===c?60:c,k=e.link,v=e.showHoverState,g=e.showBorder,p=void 0!==g&&g,S=(0,o.z)(i),b=(0,d.l)();if(!i||!i.avatar||!i.avatar.id)return null;var h=i.avatar.id,w=i.name||"Publication avatar",y=n?t.createElement(a.r,{miroId:h,alt:w,diameter:u,freezeGifs:!1,showHoverState:v}):t.createElement("div",{style:{position:"relative",border:p?"2px solid white":void 0,borderRadius:"6px",display:"inline-block"}},t.createElement(l.pg,{rules:[m(u)],miroId:h,alt:w,width:u,height:u,strategy:s.qY.Crop}),t.createElement("div",{className:b(f(u,v))}));return k?t.createElement(r.D,{href:S},y):y}},87147:(e,n,i)=>{i.d(n,{E:()=>y});var t=i(80296),o=i(95420),a=i(96540),l=i(54239),r=i(26679),c=i(34208),d=i(2550),u=i(52764),s=i(86329),m=i(43634),f=i(15473),k=i(86527),v=i(52290),g=i(99731),p=i(72130),S=i(49287),b=i(51260),h=i(39160),w=i(46879),y=function(e){var n,i=e.buttonSize,w=e.buttonStyleFn,y=e.collection,C=e.post,N=e.simpleLink,F=e.susiEntry,_=void 0===F?"follow_card":F,D=e.preventParentClick,P=e.width,A=e.trackingV2,I=(0,h.d4)((function(e){return e.config.authDomain})),x=(0,d.A)().viewerId,T=(0,p.$L)(),R=(0,S.jI)(),V=(0,l.zy)(),z=(0,b.W5)(V.pathname),L=null==z||null===(n=z.route)||void 0===n?void 0:n.name,U=(0,s.J)(y),M=U.viewerEdge,O=U.loading,B=function(e,n){var i=(0,o.n)(c.j),l=(0,t.A)(i,1)[0];return a.useCallback((function(){return l({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(i){i.modify({id:"User:".concat(n),fields:{missionControl:(0,f.A4)("followedCollections",!0),followingCollectionConnection:(0,f.CQ)(e.id)}})}})}),[e.id])}(y,x),Y=function(e,n){var i=(0,o.n)(c.E),l=(0,t.A)(i,1)[0];return a.useCallback((function(){return l({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,f.A4)("followedCollections",!1)}})}})}),[e.id])}(y,x),W=a.useCallback((function(e){D&&e.preventDefault(),T.event("collection.followed",{collectionId:y.id,followSource:R,trackingV2:A,source:R}),B()}),[y,D,R,T,A]),q=a.useCallback((function(e){D&&e.preventDefault(),T.event("collection.unfollowed",{collectionId:y.id,followSource:R,trackingV2:A,source:R}),Y()}),[D,R,T,A]),j=!(null==M||!M.isFollowing),G=w?w(!!j):j?"OBVIOUS":"STRONG";return N?a.createElement(k.N,{onClick:j?q:W},a.createElement(v.a,{display:"flex",flexDirection:"row"},j?"Unfollow publication":"Follow publication")):a.createElement(u.c,null,(function(e){return e?a.createElement(g.$n,{size:i,onClick:j?q:W,buttonStyle:G,loading:O,width:P},j?"Following":"Follow"):a.createElement(m.r,{collection:y,buttonStyle:G,isButton:!0,buttonSize:i,operation:"register",actionUrl:E(I,y,C)||"",susiEntry:_,pageSource:(0,r.x)(L,"register"),buttonWidth:P},j?"Following":"Follow")}))},E=function(e,n,i){return n.slug&&(i&&i.id?(0,w.PdS)(e,n.slug,i.id):(0,w.xNA)(e,n.slug))}},78892:(e,n,i)=>{i.d(n,{r:()=>p});var t=i(39181),o=i(96540),a=i(81717),l=i(98568),r=i(43825),c=i(52290),d=i(56942),u=i(49287),s=i(39160),m=i(46879),f=i(45458),k=i(73889),v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WhoToFollowModuleQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendedPublishers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"StringValue",value:"",block:!1}},{kind:"Argument",name:{kind:"Name",value:"mode"},value:{kind:"EnumValue",value:"ALL"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useTransformedPublishersData_recommendedPublishers"}}]}}]}}].concat((0,f.A)(k.b.definitions))},g=i(56297),p=function(e){var n=e.trackingV2,i=(0,t.I)(v,{ssr:!1}),f=i.error,k=i.data,p=i.loading,S=f,b=null==k?void 0:k.recommendedPublishers,h=(0,s.d4)((function(e){return e.config.authDomain}));(0,l.M3)(p);var w=(0,g.e)(b).publishersData;if(S||!b)return null;var y=w;return y?o.createElement(u.Ne,{source:{dimension:"who_to_follow"},extendSource:!0},o.createElement(c.a,null,o.createElement(r.P,{entities:y,enableEntityPresentationTracking:!0,susiEntry:"follow_list",enableKilnModulePresentationTracking:!0,trackingV2:n},o.createElement(c.a,null,o.createElement(d.DZ,{scale:"XS"},"Who to follow"))),o.createElement(c.a,{paddingTop:"24px"},o.createElement(a.S,{href:(0,m.gYp)(h)},"See more suggestions")))):null}},73889:(e,n,i)=>{i.d(n,{b:()=>a});var t=i(45458),o=i(98711),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useTransformedPublishersData_recommendedPublishers"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RecommendedPublishersConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityFollowList_user"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityFollowList_collection"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"cursor"}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"}},{kind:"Field",name:{kind:"Name",value:"endCursor"}},{kind:"Field",name:{kind:"Name",value:"startCursor"}}]}}]}}].concat((0,t.A)(o.z.definitions),(0,t.A)(o.Y.definitions))};[{kind:"FragmentDefinition",name:{kind:"Name",value:"useTransformedPublishersData_publishersData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityFollowList_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EntityFollowList_collection"}}]}}].concat((0,t.A)(o.z.definitions),(0,t.A)(o.Y.definitions))},56297:(e,n,i)=>{i.d(n,{e:()=>t});var t=function(e){if(!e)return{publishersData:[]};var n=[];return"RecommendedPublishersConnection"===e.__typename&&(n=(e.edges||[]).map((function(e){return e.node})).filter((function(e){return Boolean(e)}))),{publishersData:n}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/404.ca899357.chunk.js.map